{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Camera } from 'expo-camera';\nimport * as ImagePicker from 'expo-image-picker';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Add(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(Camera.Constants.Type.Back),\n    _useState4 = _slicedToArray(_useState3, 2),\n    type = _useState4[0],\n    setType = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    camera = _useState6[0],\n    setCamera = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    image = _useState8[0],\n    setImage = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    hasGalleryPermission = _useState10[0],\n    setHasGalleryPermission = _useState10[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var cameraStatus = yield Camera.requestPermissionsAsync();\n      setHasCameraPermission(cameraStatus === 'granted');\n      var galleryStatus = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      setHasGalleryPermission(galleryStatus === 'granted');\n    })();\n  }, []);\n  if (hasCameraPermission === null || hasGalleryPermission === null) {\n    return _jsx(View, {});\n  }\n  if (hasCameraPermission === false) {\n    return _jsx(Text, {\n      children: \"No access\"\n    });\n  }\n  var takePicture = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (camera) {\n        var data = yield camera.takePictureAsync(null);\n        setImage(data.uri);\n        console.log(data.uri);\n      }\n    });\n    return function takePicture() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var pickImage = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        aspect: [1, 1],\n        quality: 1\n      });\n      console.log(result);\n      if (!result.canceled) {\n        setImage(result.uri);\n      }\n    });\n    return function pickImage() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(View, {\n      style: styles.cameraContainer,\n      children: _jsx(Camera, {\n        ref: function ref(_ref5) {\n          return setCamera(_ref5);\n        },\n        style: styles.fixedRatio,\n        type: type,\n        ratio: '1:1'\n      })\n    }), _jsx(Button, {\n      title: \"Flip Image\",\n      onPress: function onPress() {\n        setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n      }\n    }), _jsx(Button, {\n      title: \"Take Picture\",\n      onPress: function onPress() {\n        return takePicture();\n      }\n    }), _jsx(Button, {\n      title: \"Pick Image\",\n      onPress: function onPress() {\n        return pickImage();\n      }\n    }), _jsx(Button, {\n      title: \"Save\",\n      onPress: function onPress() {\n        return navigation.navigate('Save', {\n          image: image\n        });\n      }\n    }), image && _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: {\n        flex: 1\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  cameraContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  fixedRatio: {\n    flex: 1,\n    aspectRatio: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","Text","View","Button","Image","Camera","ImagePicker","jsx","_jsx","jsxs","_jsxs","Add","_ref","navigation","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","Constants","Type","Back","_useState4","type","setType","_useState5","_useState6","camera","setCamera","_useState7","_useState8","image","setImage","_useState9","_useState10","hasGalleryPermission","setHasGalleryPermission","_asyncToGenerator","cameraStatus","requestPermissionsAsync","galleryStatus","requestMediaLibraryPermissionsAsync","children","takePicture","_ref3","data","takePictureAsync","uri","console","log","apply","arguments","pickImage","_ref4","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","style","flex","styles","cameraContainer","ref","fixedRatio","ratio","title","onPress","back","front","navigate","source","create","flexDirection","aspectRatio"],"sources":["D:/University/Semester 4/SOftware Studio/Demo 3/BeProductive/components/main/Add.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {StyleSheet,Text, View, Button, Image} from 'react-native'\r\nimport {Camera} from 'expo-camera';\r\nimport * as ImagePicker from 'expo-image-picker'\r\nexport default function Add({navigation}){\r\n  const [hasCameraPermission, setHasCameraPermission] = useState(null);\r\n  const [type, setType] = useState(Camera.Constants.Type.Back);\r\n  const [camera, setCamera] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [hasGalleryPermission, setHasGalleryPermission] = useState(null);\r\n  useEffect(() => {\r\n    (async ()=> {\r\n      const cameraStatus = await Camera.requestPermissionsAsync();\r\n      setHasCameraPermission(cameraStatus === 'granted');\r\n      \r\n      const galleryStatus = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n      setHasGalleryPermission(galleryStatus === 'granted');\r\n\r\n    })();\r\n  }, []);\r\n\r\n  if (hasCameraPermission === null || hasGalleryPermission === null){\r\n    return <View/>;\r\n  }\r\n  if(hasCameraPermission === false){\r\n    return <Text>No access</Text>\r\n  }\r\n\r\n  const takePicture = async () => {\r\n    if(camera){\r\n      const data = await camera.takePictureAsync(null);\r\n      setImage(data.uri); \r\n      console.log(data.uri)\r\n    }\r\n  }\r\n\r\n  const pickImage = async () => {\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      allowsEditing: true,\r\n      aspect: [1,1],\r\n      quality: 1,\r\n    });\r\n\r\n    console.log(result);\r\n\r\n    if (!result.canceled){\r\n      setImage(result.uri);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style = {{flex : 1}}>\r\n      <View style = {styles.cameraContainer}>\r\n        <Camera \r\n          ref = {ref => setCamera(ref)}\r\n          style = {styles.fixedRatio}\r\n          type = {type}\r\n          ratio = {'1:1'}\r\n        />\r\n      </View>\r\n      <Button\r\n        title = \"Flip Image\"\r\n        onPress = {() => {\r\n          setType(\r\n            type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back\r\n          );\r\n        }}>\r\n\r\n      </Button>\r\n      <Button title = \"Take Picture\" onPress={()=> takePicture()}/>\r\n      <Button title = \"Pick Image\" onPress={()=> pickImage()}/>\r\n      <Button title = \"Save\" onPress = {() => navigation.navigate('Save',{image})}/>\r\n      {image && <Image source = {{uri:image}} style = {{flex: 1}}/>}\r\n    </View>\r\n  )\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  cameraContainer:{\r\n    flex:1,\r\n    flexDirection: 'row'\r\n  },\r\n  fixedRatio:{\r\n    flex:1,\r\n    aspectRatio:1\r\n  }\r\n})"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,KAAA;AAEjD,SAAQC,MAAM,QAAO,aAAa;AAClC,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAChD,eAAe,SAASC,GAAGA,CAAAC,IAAA,EAAc;EAAA,IAAZC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EACrC,IAAAC,SAAA,GAAsDhB,QAAQ,CAAC,IAAI,CAAC;IAAAiB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7DG,mBAAmB,GAAAF,UAAA;IAAEG,sBAAsB,GAAAH,UAAA;EAClD,IAAAI,UAAA,GAAwBrB,QAAQ,CAACO,MAAM,CAACe,SAAS,CAACC,IAAI,CAACC,IAAI,CAAC;IAAAC,UAAA,GAAAP,cAAA,CAAAG,UAAA;IAArDK,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EACpB,IAAAG,UAAA,GAA4B5B,QAAQ,CAAC,IAAI,CAAC;IAAA6B,UAAA,GAAAX,cAAA,CAAAU,UAAA;IAAnCE,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EACxB,IAAAG,UAAA,GAA0BhC,QAAQ,CAAC,IAAI,CAAC;IAAAiC,UAAA,GAAAf,cAAA,CAAAc,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAwDpC,QAAQ,CAAC,IAAI,CAAC;IAAAqC,WAAA,GAAAnB,cAAA,CAAAkB,UAAA;IAA/DE,oBAAoB,GAAAD,WAAA;IAAEE,uBAAuB,GAAAF,WAAA;EACpDpC,SAAS,CAAC,YAAM;IACduC,iBAAA,CAAC,aAAW;MACV,IAAMC,YAAY,SAASlC,MAAM,CAACmC,uBAAuB,CAAC,CAAC;MAC3DtB,sBAAsB,CAACqB,YAAY,KAAK,SAAS,CAAC;MAElD,IAAME,aAAa,SAASnC,WAAW,CAACoC,mCAAmC,CAAC,CAAC;MAC7EL,uBAAuB,CAACI,aAAa,KAAK,SAAS,CAAC;IAEtD,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIxB,mBAAmB,KAAK,IAAI,IAAImB,oBAAoB,KAAK,IAAI,EAAC;IAChE,OAAO5B,IAAA,CAACN,IAAI,IAAC,CAAC;EAChB;EACA,IAAGe,mBAAmB,KAAK,KAAK,EAAC;IAC/B,OAAOT,IAAA,CAACP,IAAI;MAAA0C,QAAA,EAAC;IAAS,CAAM,CAAC;EAC/B;EAEA,IAAMC,WAAW;IAAA,IAAAC,KAAA,GAAAP,iBAAA,CAAG,aAAY;MAC9B,IAAGV,MAAM,EAAC;QACR,IAAMkB,IAAI,SAASlB,MAAM,CAACmB,gBAAgB,CAAC,IAAI,CAAC;QAChDd,QAAQ,CAACa,IAAI,CAACE,GAAG,CAAC;QAClBC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACE,GAAG,CAAC;MACvB;IACF,CAAC;IAAA,gBANKJ,WAAWA,CAAA;MAAA,OAAAC,KAAA,CAAAM,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMhB;EAED,IAAMC,SAAS;IAAA,IAAAC,KAAA,GAAAhB,iBAAA,CAAG,aAAY;MAC5B,IAAIiB,MAAM,SAASjD,WAAW,CAACkD,uBAAuB,CAAC;QACrDC,UAAU,EAAEnD,WAAW,CAACoD,gBAAgB,CAACC,MAAM;QAC/CC,aAAa,EAAE,IAAI;QACnBC,MAAM,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;QACbC,OAAO,EAAE;MACX,CAAC,CAAC;MAEFb,OAAO,CAACC,GAAG,CAACK,MAAM,CAAC;MAEnB,IAAI,CAACA,MAAM,CAACQ,QAAQ,EAAC;QACnB9B,QAAQ,CAACsB,MAAM,CAACP,GAAG,CAAC;MACtB;IACF,CAAC;IAAA,gBAbKK,SAASA,CAAA;MAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAad;EAED,OACE1C,KAAA,CAACR,IAAI;IAAC8D,KAAK,EAAI;MAACC,IAAI,EAAG;IAAC,CAAE;IAAAtB,QAAA,GACxBnC,IAAA,CAACN,IAAI;MAAC8D,KAAK,EAAIE,MAAM,CAACC,eAAgB;MAAAxB,QAAA,EACpCnC,IAAA,CAACH,MAAM;QACL+D,GAAG,EAAI,SAAAA,SAAG;UAAA,OAAIvC,SAAS,CAACuC,KAAG,CAAC;QAAA,CAAC;QAC7BJ,KAAK,EAAIE,MAAM,CAACG,UAAW;QAC3B7C,IAAI,EAAIA,IAAK;QACb8C,KAAK,EAAI;MAAM,CAChB;IAAC,CACE,CAAC,EACP9D,IAAA,CAACL,MAAM;MACLoE,KAAK,EAAG,YAAY;MACpBC,OAAO,EAAI,SAAAA,QAAA,EAAM;QACf/C,OAAO,CACLD,IAAI,KAAKnB,MAAM,CAACe,SAAS,CAACC,IAAI,CAACoD,IAAI,GAAGpE,MAAM,CAACe,SAAS,CAACC,IAAI,CAACqD,KAAK,GAAGrE,MAAM,CAACe,SAAS,CAACC,IAAI,CAACoD,IAC5F,CAAC;MACH;IAAE,CAEI,CAAC,EACTjE,IAAA,CAACL,MAAM;MAACoE,KAAK,EAAG,cAAc;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAK5B,WAAW,CAAC,CAAC;MAAA;IAAC,CAAC,CAAC,EAC7DpC,IAAA,CAACL,MAAM;MAACoE,KAAK,EAAG,YAAY;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAKnB,SAAS,CAAC,CAAC;MAAA;IAAC,CAAC,CAAC,EACzD7C,IAAA,CAACL,MAAM;MAACoE,KAAK,EAAG,MAAM;MAACC,OAAO,EAAI,SAAAA,QAAA;QAAA,OAAM3D,UAAU,CAAC8D,QAAQ,CAAC,MAAM,EAAC;UAAC3C,KAAK,EAALA;QAAK,CAAC,CAAC;MAAA;IAAC,CAAC,CAAC,EAC7EA,KAAK,IAAIxB,IAAA,CAACJ,KAAK;MAACwE,MAAM,EAAI;QAAC5B,GAAG,EAAChB;MAAK,CAAE;MAACgC,KAAK,EAAI;QAACC,IAAI,EAAE;MAAC;IAAE,CAAC,CAAC;EAAA,CACzD,CAAC;AAGX;AAEA,IAAMC,MAAM,GAAGlE,UAAU,CAAC6E,MAAM,CAAC;EAC/BV,eAAe,EAAC;IACdF,IAAI,EAAC,CAAC;IACNa,aAAa,EAAE;EACjB,CAAC;EACDT,UAAU,EAAC;IACTJ,IAAI,EAAC,CAAC;IACNc,WAAW,EAAC;EACd;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}